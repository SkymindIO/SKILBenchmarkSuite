{"paragraphs":[{"title":"Documentation and Samples","text":"%md\n<a target=\"_blank\" href=\"http://deeplearning4j.org/doc\">DL4J Documentation</a>\n<a target=\"_blank\" href=\"https://nd4j.org/doc/\">ND4J Documentation</a>\n<a target=\"_blank\" href=\"https://deeplearning4j.org/datavecdoc/\">DataVec (ETL) Documentation</a>\nSKIL also comes with support for <a target=\"_blank\" href=\"https://keras.io\">Keras</a> and <a target=\"_blank\" href=\"https://www.tensorflow.org/\">Tensorflow</a> with %pyspark\nFor examples please see <a target=\"_blank\" href=\"https://github.com/SkymindIO/SKIL_Examples\">SKIL_Examples</a>","user":"admin","dateUpdated":"2018-03-26T18:45:29+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"markdown","editOnDblClick":true},"editorMode":"ace/mode/markdown"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"HTML","data":"<p><a target=\"_blank\" href=\"http: //deeplearning4j.org/doc\">DL4J Documentation</a>\n<br  /><a target=\"_blank\" href=\"https: //nd4j.org/doc/\">ND4J Documentation</a>\n<br  /><a target=\"_blank\" href=\"https: //deeplearning4j.org/datavecdoc/\">DataVec (ETL) Documentation</a>\n<br  />SKIL also comes with support for <a target=\"_blank\" href=\"https: //keras.io\">Keras</a> and <a target=\"_blank\" href=\"https: //www.tensorflow.org/\">Tensorflow</a> with %pyspark\n<br  />For examples please see <a target=\"_blank\" href=\"https: //github.com/SkymindIO/SKIL_Examples\">SKIL_Examples</a></p>\n"}]},"apps":[],"jobName":"paragraph_1521833708221_-1321497700","id":"20180323-193508_1930843479","dateCreated":"2018-03-23T19:35:08+0000","dateStarted":"2018-03-26T18:45:29+0000","dateFinished":"2018-03-26T18:45:29+0000","status":"FINISHED","progressUpdateIntervalMs":500,"focus":true,"$$hashKey":"object:251"},{"title":"Imports","text":"import io.skymind.zeppelin.utils._\nimport io.skymind.modelproviders.history.client.ModelHistoryClient\nimport io.skymind.modelproviders.history.model._\nimport org.deeplearning4j.datasets.iterator._\nimport org.deeplearning4j.datasets.iterator.impl._\nimport org.deeplearning4j.nn.api._\nimport org.deeplearning4j.nn.multilayer._\nimport org.deeplearning4j.nn.graph._\nimport org.deeplearning4j.nn.conf._\nimport org.deeplearning4j.nn.conf.inputs._\nimport org.deeplearning4j.nn.conf.layers._\nimport org.deeplearning4j.nn.conf.layers._\nimport org.deeplearning4j.nn.weights._\nimport org.deeplearning4j.optimize.listeners._\nimport org.deeplearning4j.api.storage.impl.RemoteUIStatsStorageRouter\nimport org.deeplearning4j.ui.stats.StatsListener\nimport org.datavec.api.transform._\nimport org.nd4j.linalg.activations.Activation\nimport org.nd4j.linalg.learning.config._\nimport org.nd4j.linalg.lossfunctions.LossFunctions._\nimport org.nd4j.linalg.factory.Nd4j\n","user":"admin","dateUpdated":"2018-03-26T18:45:29+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"import io.skymind.zeppelin.utils._\nimport io.skymind.modelproviders.history.client.ModelHistoryClient\nimport io.skymind.modelproviders.history.model._\nimport org.deeplearning4j.datasets.iterator._\nimport org.deeplearning4j.datasets.iterator.impl._\nimport org.deeplearning4j.nn.api._\nimport org.deeplearning4j.nn.multilayer._\nimport org.deeplearning4j.nn.graph._\nimport org.deeplearning4j.nn.conf._\nimport org.deeplearning4j.nn.conf.inputs._\nimport org.deeplearning4j.nn.conf.layers._\nimport org.deeplearning4j.nn.conf.layers._\nimport org.deeplearning4j.nn.weights._\nimport org.deeplearning4j.optimize.listeners._\nimport org.deeplearning4j.api.storage.impl.RemoteUIStatsStorageRouter\nimport org.deeplearning4j.ui.stats.StatsListener\nimport org.datavec.api.transform._\nimport org.nd4j.linalg.activations.Activation\nimport org.nd4j.linalg.learning.config._\nimport org.nd4j.linalg.lossfunctions.LossFunctions._\nimport org.nd4j.linalg.factory.Nd4j\n"}]},"apps":[],"jobName":"paragraph_1521833708221_-1321497700","id":"20180323-193508_1293433535","dateCreated":"2018-03-23T19:35:08+0000","dateStarted":"2018-03-26T18:45:29+0000","dateFinished":"2018-03-26T18:45:45+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:252"},{"title":"Skil Context","text":"val skilContext = new SkilContext()\nval client = skilContext.client","user":"admin","dateUpdated":"2018-03-26T18:45:29+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"skilContext: io.skymind.zeppelin.utils.SkilContext = io.skymind.zeppelin.utils.SkilContext@594e3e8f\nclient: io.skymind.modelproviders.history.client.ModelHistoryClient = io.skymind.modelproviders.history.client.ModelHistoryClient@2f732dd5\n"}]},"apps":[],"jobName":"paragraph_1521833708221_-1321497700","id":"20180323-193508_1902028484","dateCreated":"2018-03-23T19:35:08+0000","dateStarted":"2018-03-26T18:45:30+0000","dateFinished":"2018-03-26T18:45:47+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:253"},{"title":"How to interact with SKIL","text":"//val numRows = 28\n//val numColumns = 28\n//val outputNum = 10 // number of output classes\nval batchSize = 32 // batch size for each epoch\nval rngSeed = 123 // random number seed for reproducibility\nval numEpochs = 15 // number of epochs to perform\n\n\n// total parameters: 100,000\nval input_layer_neurons = 100\nval hidden_layer_1_neurons = 1000\nval hidden_layer_2_neurons = 598\nval hidden_layer_3_neurons = 497\nval output_layer_neurons = 10\n\n\n\n//val trainData = new MnistDataSetIterator(batchSize, true, 42)\n//val testData = new MnistDataSetIterator(batchSize, false, 42)\n\nval conf: MultiLayerConfiguration = new NeuralNetConfiguration.Builder()\n    .seed(rngSeed) //include a random seed for reproducibility\n    .optimizationAlgo(OptimizationAlgorithm.STOCHASTIC_GRADIENT_DESCENT) // use stochastic gradient descent as an optimization algorithm\n    .updater(new Nesterovs(0.006, 0.9)) //specify the rate of change of the learning rate.\n    .l2(1e-4)\n    .list()\n    .layer(0, new DenseLayer.Builder() //create the first, input layer with xavier initialization\n            .nIn( input_layer_neurons ) //numRows * numColumns)\n            .nOut( hidden_layer_1_neurons )\n            .activation(Activation.RELU)\n            .weightInit(WeightInit.XAVIER)\n            .build())\n    .layer(1, new DenseLayer.Builder() //create the first, input layer with xavier initialization\n            .nIn( hidden_layer_1_neurons )\n            .nOut( hidden_layer_2_neurons )\n            .activation(Activation.RELU)\n            .weightInit(WeightInit.XAVIER)\n            .build())\n    .layer(2, new DenseLayer.Builder() //create the first, input layer with xavier initialization\n            .nIn( hidden_layer_2_neurons )\n            .nOut( hidden_layer_3_neurons )\n            .activation(Activation.RELU)\n            .weightInit(WeightInit.XAVIER)\n            .build())            \n    .layer(3, new OutputLayer.Builder(LossFunction.NEGATIVELOGLIKELIHOOD) //create hidden layer\n            .nIn( hidden_layer_3_neurons )\n            .nOut( output_layer_neurons )\n            .activation(Activation.SOFTMAX)\n            .weightInit(WeightInit.XAVIER)\n            .build())\n    .build()\n\nval model = new MultiLayerNetwork(conf)\nmodel.init()\n\n\n\n// System.out.println(\"Total number of parameters: \" + network.numParams());\nprintln( \"Total parameter count \" + model.numParams() )\n\n//for (i <- 1 to 2) {\n//  model.fit(trainData.next())\n//}\n\n//val evaluation = model.evaluate(testData)\n\nval modelId = skilContext.addModelToExperiment(z, model, \"SKILBenchmarks MLP 1mm Model\")","user":"admin","dateUpdated":"2018-03-26T18:45:29+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"results":{"code":"SUCCESS","msg":[{"type":"TEXT","data":"batchSize: Int = 32\nrngSeed: Int = 123\nnumEpochs: Int = 15\ninput_layer_neurons: Int = 100\nhidden_layer_1_neurons: Int = 1000\nhidden_layer_2_neurons: Int = 598\nhidden_layer_3_neurons: Int = 497\noutput_layer_neurons: Int = 10\nconf: org.deeplearning4j.nn.conf.MultiLayerConfiguration = \n{\n  \"backprop\" : true,\n  \"backpropType\" : \"Standard\",\n  \"cacheMode\" : \"NONE\",\n  \"confs\" : [ {\n    \"cacheMode\" : \"NONE\",\n    \"epochCount\" : 0,\n    \"iterationCount\" : 0,\n    \"l1ByParam\" : { },\n    \"l2ByParam\" : { },\n    \"layer\" : {\n      \"dense\" : {\n        \"activationFn\" : {\n          \"ReLU\" : { }\n        },\n        \"biasInit\" : 0.0,\n        \"biasUpdater\" : null,\n        \"constraints\" : null,\n        \"dist\" : null,\n        \"gradientNormalization\" : \"None\",\n        \"gradientNormalizationThreshold\" : 1.0,\n        \"hasBias\" : true,\n        \"idropout\" : null,\n        \"iupdater\" : {\n          \"@class\" : \"org.nd4j.linalg.learning.config.Nesterovs\",\n          \"learningRate\" : 0.006,\n          \"momentum\" : 0.9\n        },\n        \"l1\" : ...model: org.deeplearning4j.nn.multilayer.MultiLayerNetwork = org.deeplearning4j.nn.multilayer.MultiLayerNetwork@43dc6877\nTotal parameter count 1002281\nmodelId: String = 2c13ca63-711e-4246-a052-ab7f95f38f65\n"}]},"apps":[],"jobName":"paragraph_1521833708221_-1321497700","id":"20180323-193508_2124049102","dateCreated":"2018-03-23T19:35:08+0000","dateStarted":"2018-03-26T18:45:46+0000","dateFinished":"2018-03-26T18:45:52+0000","status":"FINISHED","progressUpdateIntervalMs":500,"$$hashKey":"object:254"},{"user":"admin","dateUpdated":"2018-03-26T18:45:29+0000","config":{"colWidth":12,"enabled":true,"results":{},"editorSetting":{"language":"scala"},"editorMode":"ace/mode/scala"},"settings":{"params":{},"forms":{}},"apps":[],"jobName":"paragraph_1521833708221_-1321497700","id":"20180323-193508_1072116903","dateCreated":"2018-03-23T19:35:08+0000","status":"READY","errorMessage":"","progressUpdateIntervalMs":500,"$$hashKey":"object:255"}],"name":"skil_benchmark_1mm","id":"2D9GN9HXH","angularObjects":{"2DC7XEZGY:existing_process":[],"2DA98JT68:existing_process":[],"2DBS6XYV8:existing_process":[],"2DBM3KW2S:existing_process":[],"2D95DAPE1:existing_process":[],"2DC64FYPB:existing_process":[],"2DB81JBP5:existing_process":[],"2DBR5P617:existing_process":[]},"config":{"looknfeel":"default","personalizedMode":"false"},"info":{}}